<% @comments.each do |comment| %>
  <div class="comment_<%=comment.id%>" style="padding-bottom: 25px;">
    <table style="width: 100%;">
      <tr>
        <td style="white-space: nowrap; width: 25px;">
          #<%=Knj::Locales.number_out(comment[:id_per_obj], 0)%>
        </td>
        <td style="font-weight: bold;">
          <%=comment.user_html%>
        </td>
        <td style="width: 260px; text-align: right; font-weight: bold;">
          <%if task.has_access?(current_user)%>
            (<a href="javascript: comment_edit('<%=comment.id%>');"><%=_"edit"%></a>, <a href="javascript: if (confirm('<%=_"Do you want to delete this comment?"%>')){comment_delete('<%=comment.id%>');}"><%=_"delete"%></a>)
            &nbsp;&nbsp;&nbsp;&nbsp;
          <%end%>
          <%=comment.date_saved_str%>
        </td>
      </tr>
      <tr>
        <td colspan="3" style="border-top: 1px solid #cfcfcf; border-bottom: 1px solid #cfcfcf;">
          <%=comment[:comment]%>
        </td>
      </tr>
    </table>
  </div>
<% end %>

<% if @comments.none? %>
  <div class="error">
    <%=_"No comments were found for this task."%>
  </div>
<% end %>
