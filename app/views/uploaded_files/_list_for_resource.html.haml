= DesignBox.boxt _("Uploaded files"), 700

- if can? :new, UploadedFile
  = link_to _("Add new"), new_uploaded_file_path(uploaded_file: {resource_type: resource.class.name, resource_id: resource.id}), class: "button"
  %br/
  %br/

%table.list
  %thead
    %tr
      %th= UploadedFile.human_attribute_name(:id)
      %th= UploadedFile.human_attribute_name(:file_file_size)
      %th= _("Actions")
  %tbody
    - resource.uploaded_files.each do |uploaded_file|
      %tr
        %td= link_to_uploaded_file uploaded_file
        %td= number_to_human_size uploaded_file.file_file_size
        %td
          = link_to _("Edit"), ["edit", uploaded_file] if can? :edit, uploaded_file
          = link_to _("Delete"), uploaded_file, method: :delete, data: {confirm: _("Are you sure?")} if can? :destroy, uploaded_file
    - if resource.uploaded_files.none?
      %tr
        %td.error{colspan: 3}= _("No files has been uploaded.")

= DesignBox.boxb
